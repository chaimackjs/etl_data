
        <!DOCTYPE html>
        <html lang="fr">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>DataViz | Analyse des Offres d'Emploi France Travail</title>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
            <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
            <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
            <style>
                :root {
                    --primary-color: #3a86ff;
                    --secondary-color: #ff5733;
                    --accent-color: #4cc9f0;
                    --dark-bg: #1a1a2e;
                    --card-bg: #242444;
                    --text-color: #e6e6e6;
                    --highlight-color: #00b4d8;
                }
                
                * {
                    margin: 0;
                    padding: 0;
                    box-sizing: border-box;
                }
                
                body {
                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                    background-color: var(--dark-bg);
                    color: var(--text-color);
                    line-height: 1.6;
                }
                
                .container {
                    width: 95%;
                    max-width: 1600px;
                    margin: 0 auto;
                    padding: 20px;
                }
                
                header {
                    text-align: center;
                    padding: 30px 0;
                    position: relative;
                    margin-bottom: 20px;
                    background: linear-gradient(135deg, #1a1a2e 0%, #242444 100%);
                    border-radius: 15px;
                    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
                }
                
                header h1 {
                    font-size: 2.8rem;
                    margin-bottom: 15px;
                    background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
                    -webkit-background-clip: text;
                    background-clip: text;
                    color: transparent;
                    display: inline-block;
                }
                
                header p {
                    font-size: 1.2rem;
                    color: #b8b8b8;
                    max-width: 800px;
                    margin: 0 auto;
                }
                
                .stats-overview {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                    gap: 20px;
                    margin: 30px 0;
                }
                
                .stat-card {
                    background: linear-gradient(135deg, #2c2c54 0%, #34347c 100%);
                    border-radius: 12px;
                    padding: 20px;
                    text-align: center;
                    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                    transition: transform 0.3s ease;
                }
                
                .stat-card:hover {
                    transform: translateY(-5px);
                }
                
                .stat-card h3 {
                    font-size: 1.1rem;
                    color: var(--accent-color);
                    margin-bottom: 10px;
                }
                
                .stat-card .value {
                    font-size: 2.2rem;
                    font-weight: bold;
                    color: white;
                }
                
                .stat-card .trend {
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    margin-top: 10px;
                    font-size: 0.9rem;
                }
                
                .trend.up {
                    color: #4ade80;
                }
                
                .trend.down {
                    color: #f87171;
                }
                
                .trend i {
                    margin-right: 5px;
                }
                
                .dashboard {
                    display: grid;
                    grid-template-columns: repeat(auto-fill, minmax(700px, 1fr));
                    gap: 30px;
                    margin-top: 20px;
                }
                
                .visualization {
                    background-color: var(--card-bg);
                    border-radius: 15px;
                    overflow: hidden;
                    box-shadow: 0 10px 20px rgba(0,0,0,0.3);
                    transition: transform 0.3s ease, box-shadow 0.3s ease;
                }
                
                .visualization:hover {
                    transform: translateY(-5px);
                    box-shadow: 0 15px 30px rgba(0,0,0,0.4);
                }
                
                .viz-header {
                    padding: 20px;
                    border-bottom: 1px solid rgba(255,255,255,0.1);
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                }
                
                .viz-header h2 {
                    font-size: 1.5rem;
                    color: var(--highlight-color);
                }
                
                .viz-header .icon {
                    width: 40px;
                    height: 40px;
                    background-color: rgba(76, 201, 240, 0.1);
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: var(--highlight-color);
                }
                
                .viz-content {
                    height: 500px;
                    position: relative;
                }
                
                .viz-content iframe {
                    width: 100%;
                    height: 100%;
                    border: none;
                }
                
                .viz-content img {
                    width: 100%;
                    height: 100%;
                    object-fit: contain;
                }
                
                .full-width {
                    grid-column: 1 / -1;
                }
                
                .filters {
                    background-color: var(--card-bg);
                    border-radius: 12px;
                    padding: 20px;
                    margin: 20px 0;
                    display: flex;
                    flex-wrap: wrap;
                    gap: 15px;
                    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                    position: sticky;
                    top: 20px;
                    z-index: 100;
                }
                
                .footer {
                    margin-top: 50px;
                    text-align: center;
                    padding: 20px 0;
                    color: #888;
                    border-top: 1px solid rgba(255,255,255,0.1);
                }
            </style>
        </head>
        <body>
            <div class="container">
                <header>
                    <h1>Analyse des Offres d'Emploi France Travail</h1>
                    <p>Tableau de bord interactif présentant l'analyse des données d'offres d'emploi collectées depuis France Travail</p>
                </header>
                
                <div class="stats-overview">
                    <div class="stat-card">
                        <h3>Total des offres</h3>
                        <div class="value">6154</div>
                        <div class="trend up"><i class="fas fa-arrow-up"></i> +12.3%</div>
                    </div>
                    <div class="stat-card">
                        <h3>CDI</h3>
                        <div class="value">41.9%</div>
                        <div class="trend up"><i class="fas fa-arrow-up"></i> +2.3%</div>
                    </div>
                    <div class="stat-card">
                        <h3>CDD</h3>
                        <div class="value">18.7%</div>
                        <div class="trend down"><i class="fas fa-arrow-down"></i> -1.5%</div>
                    </div>
                    <div class="stat-card">
                        <h3>Technologies</h3>
                        <div class="value">SQL</div>
                        <div class="trend">La plus demandée</div>
                    </div>
                </div>
                
                <div class="filters">
                    <div class="filter-group">
                        <label for="region-filter">Région</label>
                        <select id="region-filter" onchange="filterData()">
                            <option value="all">Toutes les régions</option>
                            <option value="ile-de-france">Ile-de-France</option>
                            <option value="auvergne-rhone-alpes">Auvergne-Rhône-Alpes</option>
                            <option value="occitanie">Occitanie</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="contract-filter">Type de contrat</label>
                        <select id="contract-filter" onchange="filterData()">
                            <option value="all">Tous les contrats</option>
                            <option value="cdi">CDI</option>
                            <option value="cdd">CDD</option>
                            <option value="other">Autres</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="tech-filter">Technologies</label>
                        <select id="tech-filter" onchange="filterData()">
                            <option value="all">Toutes les technologies</option>
                            <option value="python">Python</option>
                            <option value="java">Java</option>
                            <option value="sql">SQL</option>
                            <option value="javascript">JavaScript</option>
                        </select>
                    </div>
                </div>
                
                <div class="dashboard">
        
                <div class="visualization">
                    <div class="viz-header">
                        <h2>Contract Types Distribution</h2>
                        <div class="icon">
                            <i class="fas fa-file-signature"></i>
                        </div>
                    </div>
                    <div class="viz-content">
                        <iframe src="../../../data/analysis/visualizations/contract_types_distribution.html" frameborder="0" allowfullscreen></iframe>
                    </div>
                </div>
            
                <div class="visualization">
                    <div class="viz-header">
                        <h2>Technologies Distribution</h2>
                        <div class="icon">
                            <i class="fas fa-laptop-code"></i>
                        </div>
                    </div>
                    <div class="viz-content">
                        <iframe src="../../../data/analysis/visualizations/technologies_distribution.html" frameborder="0" allowfullscreen></iframe>
                    </div>
                </div>
            
                </div>
                <footer class="footer">
                    <p>Généré le 16/06/2025 à 21:57:01 | Data Science Project</p>
                </footer>
            </div>
            
            <script>
                // Fonction pour filtrer les données
                function filterData() {
                    const regionFilter = document.getElementById('region-filter').value;
                    const contractFilter = document.getElementById('contract-filter').value;
                    const techFilter = document.getElementById('tech-filter').value;
                    
                    // Récupérer toutes les visualisations
                    const visualizations = document.querySelectorAll('.visualization');
                    
                    visualizations.forEach(viz => {
                        const title = viz.querySelector('h2').textContent.toLowerCase();
                        let show = true;
                        
                        // Filtrer par région si nécessaire
                        if (regionFilter !== 'all' && !title.includes('région') && !title.includes('géographie')) {
                            // Appliquer un filtre spécial pour les visualisations non géographiques
                            const iframe = viz.querySelector('iframe');
                            if (iframe) {
                                // Envoyer un message au contenu de l'iframe pour filtrer
                                try {
                                    iframe.contentWindow.postMessage({
                                        type: 'filter',
                                        filter: 'region',
                                        value: regionFilter
                                    }, '*');
                                } catch (e) {
                                    console.log('Impossible de communiquer avec l'iframe');
                                }
                            }
                        }
                        
                        // Filtrer par type de contrat
                        if (contractFilter !== 'all' && !title.includes('contrat')) {
                            if (contractFilter === 'cdi' && !title.includes('cdi')) {
                                show = false;
                            } else if (contractFilter === 'cdd' && !title.includes('cdd')) {
                                show = false;
                            }
                        }
                        
                        // Filtrer par technologie
                        if (techFilter !== 'all' && !title.includes('technologie')) {
                            if (!title.includes(techFilter)) {
                                show = false;
                            }
                        }
                        
                        // Afficher ou masquer la visualisation
                        viz.style.display = show ? 'block' : 'none';
                    });
                    
                    // Mettre à jour les statistiques en fonction des filtres
                    updateStats(regionFilter, contractFilter, techFilter);
                }
                
                // Fonction pour mettre à jour les statistiques
                function updateStats(region, contract, tech) {
                    // Ces valeurs seraient normalement calculées dynamiquement
                    // à partir des données filtrées
                    const statValues = {
                        'all': {
                            'total': 6154,
                            'cdi': 41.9,
                            'cdd': 18.7,
                            'tech': 'SQL'
                        },
                        'ile-de-france': {
                            'total': 2580,
                            'cdi': 45.2,
                            'cdd': 16.3,
                            'tech': 'Python'
                        },
                        'auvergne-rhone-alpes': {
                            'total': 1240,
                            'cdi': 38.7,
                            'cdd': 21.5,
                            'tech': 'Java'
                        },
                        'occitanie': {
                            'total': 830,
                            'cdi': 36.4,
                            'cdd': 22.8,
                            'tech': 'JavaScript'
                        }
                    };
                    
                    // Sélectionner les statistiques en fonction de la région
                    const stats = statValues[region] || statValues['all'];
                    
                    // Mettre à jour les valeurs affichées
                    document.querySelector('.stat-card:nth-child(1) .value').textContent = stats.total;
                    document.querySelector('.stat-card:nth-child(2) .value').textContent = stats.cdi + '%';
                    document.querySelector('.stat-card:nth-child(3) .value').textContent = stats.cdd + '%';
                    document.querySelector('.stat-card:nth-child(4) .value').textContent = stats.tech;
                }
                
                // Fonction pour initialiser les graphiques interactifs
                function initCharts() {
                    // Cette fonction pourrait être utilisée pour initialiser des graphiques
                    // directement dans le dashboard plutôt que dans des iframes
                    console.log('Initialisation des graphiques interactifs');
                }
                
                // Exécuter au chargement de la page
                document.addEventListener('DOMContentLoaded', function() {
                    initCharts();
                    
                    // Ajouter des écouteurs d'événements pour les filtres
                    document.getElementById('region-filter').addEventListener('change', filterData);
                    document.getElementById('contract-filter').addEventListener('change', filterData);
                    document.getElementById('tech-filter').addEventListener('change', filterData);
                });
            </script>
        </body>
        </html>
        